<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conversor de Divisas</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <h1>Conversor de Divisas</h1>
        <form id="conversionForm">
            <label for="monedaOrigen">Moneda de origen:</label>
            <select name="monedaOrigen" id="monedaOrigen">
            <option value="BRL">BRL - Real brasileño</option>
            <option value="CLP">CLP - Peso chileno</option>
            <option value="SAR">SAR - Rial saudita</option>
            <option value="ARS">ARS - Peso argentino</option>
            <option value="AUD">AUD - Dólar australiano</option>
            <option value="BSP">BSP - Dólar de las Bahamas</option>
            <option value="BMD">BMD - Dólar de Bermudas</option>
            <option value="BOL">BOL - Boliviano</option>
            <option value="CAD">CAD - Dólar canadiense</option>
            <option value="QAR">QAR - Riyal catarí</option>
            <option value="CNY">CNY - Yuan Renminbi</option>
            <option value="COP">COP - Peso colombiano</option>
            <option value="KRW">KRW - Won coreano</option>
            <option value="CRC">CRC - Colón costarricense</option>
            <option value="CUP">CUP - Peso cubano</option>
            <option value="DEG">DEG - Derechos Especiales de Giro (FMI)</option>
            <option value="DKK">DKK - Corona danesa</option>
            <option value="EGP">EGP - Libra egipcia</option>
            <option value="AED">AED - Dírham de los Emiratos Árabes Unidos</option>
            <option value="EUR">EUR - Euro</option>
            <option value="PHP">PHP - Peso filipino</option>
            <option value="FJD">FJD - Dólar de Fiji</option>
            <option value="XPF">XPF - Franco CFP</option>
            <option value="GTQ">GTQ - Quetzal guatemalteco</option>
            <option value="HKD">HKD - Dólar de Hong Kong</option>
            <option value="HUF">HUF - Florín húngaro</option>
            <option value="INR">INR - Rupia india</option>
            <option value="IDR">IDR - Rupia indonesia</option>
            <option value="IRR">IRR - Rial iraní</option>
            <option value="ISK">ISK - Corona islandesa</option>
            <option value="KYD">KYD - Dólar de las Islas Caimán</option>
            <option value="ILS">ILS - Shekel israelí</option>
            <option value="JPY">JPY - Yen japonés</option>
            <option value="KZT">KZT - Tenge kazajo</option>
            <option value="MYR">MYR - Ringgit malayo</option>
            <option value="MAD">MAD - Dirham marroquí</option>
            <option value="MXN">MXN - Peso mexicano</option>
            <option value="NOK">NOK - Corona noruega</option>
            <option value="NZD">NZD - Dólar neozelandés</option>
            <option value="PKR">PKR - Rupia pakistaní</option>
            <option value="PAB">PAB - Balboa panameño</option>
            <option value="PYG">PYG - Guaraní paraguayo</option>
            <option value="PEN">PEN - Sol peruano</option>
            <option value="PLN">PLN - Zloty polaco</option>
            <option value="GBP">GBP - Libra esterlina británica</option>
            <option value="CZK">CZK - Corona checa</option>
            <option value="DOP">DOP - Peso dominicano</option>
            <option value="RON">RON - Leu rumano</option>
            <option value="RUR">RUR - Rublo ruso</option>
            <option value="SGD">SGD - Dólar de Singapur</option>
            <option value="ZAR">ZAR - Rand sudafricano</option>
            <option value="SEK">SEK - Corona sueca</option>
            <option value="CHF">CHF - Franco suizo</option>
            <option value="THB">THB - Baht tailandés</option>
            <option value="TWD">TWD - Nuevo dólar taiwanés</option>
            <option value="TRY">TRY - Lira turca</option>
            <option value="UAH">UAH - Hryvnia ucraniano</option>
            <option value="UYU">UYU - Peso uruguayo</option>
            <option value="VEB">VEB - Bolívar venezolano</option>
            <option value="VND">VND - Dong vietnamita</option>
        </select>
        <br>
        <label for="monedaDestino">Moneda de destino:</label>
        <select name="monedaDestino" id="monedaDestino">
            <option value="BRL">BRL - Real brasileño</option>
            <option value="CLP">CLP - Peso chileno</option>
            <option value="SAR">SAR - Rial saudita</option>
            <option value="ARS">ARS - Peso argentino</option>
            <option value="AUD">AUD - Dólar australiano</option>
            <option value="BSP">BSP - Dólar de las Bahamas</option>
            <option value="BMD">BMD - Dólar de Bermudas</option>
            <option value="BOL">BOL - Boliviano</option>
            <option value="CAD">CAD - Dólar canadiense</option>
            <option value="QAR">QAR - Riyal catarí</option>
            <option value="CNY">CNY - Yuan Renminbi</option>
            <option value="COP">COP - Peso colombiano</option>
            <option value="KRW">KRW - Won coreano</option>
            <option value="CRC">CRC - Colón costarricense</option>
            <option value="CUP">CUP - Peso cubano</option>
            <option value="DEG">DEG - Derechos Especiales de Giro (FMI)</option>
            <option value="DKK">DKK - Corona danesa</option>
            <option value="EGP">EGP - Libra egipcia</option>
            <option value="AED">AED - Dírham de los Emiratos Árabes Unidos</option>
            <option value="EUR">EUR - Euro</option>
            <option value="PHP">PHP - Peso filipino</option>
            <option value="FJD">FJD - Dólar de Fiji</option>
            <option value="XPF">XPF - Franco CFP</option>
            <option value="GTQ">GTQ - Quetzal guatemalteco</option>
            <option value="HKD">HKD - Dólar de Hong Kong</option>
            <option value="HUF">HUF - Florín húngaro</option>
            <option value="INR">INR - Rupia india</option>
            <option value="IDR">IDR - Rupia indonesia</option>
            <option value="IRR">IRR - Rial iraní</option>
            <option value="ISK">ISK - Corona islandesa</option>
            <option value="KYD">KYD - Dólar de las Islas Caimán</option>
            <option value="ILS">ILS - Shekel israelí</option>
            <option value="JPY">JPY - Yen japonés</option>
            <option value="KZT">KZT - Tenge kazajo</option>
            <option value="MYR">MYR - Ringgit malayo</option>
            <option value="MAD">MAD - Dirham marroquí</option>
            <option value="MXN">MXN - Peso mexicano</option>
            <option value="NOK">NOK - Corona noruega</option>
            <option value="NZD">NZD - Dólar neozelandés</option>
            <option value="PKR">PKR - Rupia pakistaní</option>
            <option value="PAB">PAB - Balboa panameño</option>
            <option value="PYG">PYG - Guaraní paraguayo</option>
            <option value="PEN">PEN - Sol peruano</option>
            <option value="PLN">PLN - Zloty polaco</option>
            <option value="GBP">GBP - Libra esterlina británica</option>
            <option value="CZK">CZK - Corona checa</option>
            <option value="DOP">DOP - Peso dominicano</option>
            <option value="RON">RON - Leu rumano</option>
            <option value="RUR">RUR - Rublo ruso</option>
            <option value="SGD">SGD - Dólar de Singapur</option>
            <option value="ZAR">ZAR - Rand sudafricano</option>
            <option value="SEK">SEK - Corona sueca</option>
            <option value="CHF">CHF - Franco suizo</option>
            <option value="THB">THB - Baht tailandés</option>
            <option value="TWD">TWD - Nuevo dólar taiwanés</option>
            <option value="TRY">TRY - Lira turca</option>
            <option value="UAH">UAH - Hryvnia ucraniano</option>
            <option value="UYU">UYU - Peso uruguayo</option>
            <option value="VEB">VEB - Bolívar venezolano</option>
            <option value="VND">VND - Dong vietnamita</option>
        </select>
        <br>
            <label for="cantidad">Cantidad:</label>
            <input type="number" name="cantidad" id="cantidad" required>
            <br>
            <button type="submit">Convertir</button>
        </form>
        <div id="resultado"></div>
    </div>

    <script>
        const conversionForm = document.getElementById('conversionForm');
        const resultadoDiv = document.getElementById('resultado');

        conversionForm.addEventListener('submit', async (event) => {
            event.preventDefault();

            const monedaOrigen = conversionForm.monedaOrigen.value;
            const monedaDestino = conversionForm.monedaDestino.value;
            const cantidad = conversionForm.cantidad.value;

            try {
                const response = await fetch(`/tasas-cambio?monedaOrigen=${monedaOrigen}&monedaDestino=${monedaDestino}&cantidad=${cantidad}`);
                const data = await response.json();

                // Realizar el cálculo de la conversión
                const tasaConversion = data.tasaConversion;
                const resultado = cantidad * tasaConversion;

                resultadoDiv.textContent = `Resultado: ${cantidad} ${monedaOrigen} = ${resultado.toFixed(2)} ${monedaDestino}`;
            } catch (error) {
                console.error('Error al obtener las tasas de cambio:', error);
                resultadoDiv.textContent = 'Error al realizar la conversión. Por favor, intenta de nuevo más tarde.';
            }
        });
    </script>
</body>
</html>
